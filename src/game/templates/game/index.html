{% extends 'game/base.html' %}

{% block content %}
  {% if player_list %}
  <table class="table table-striped table-bordered table-hover">
    <thead class="thead-light">
      <tr>
        <th scope="col">Nom</th>
        <th scope="col">Nombre de Points</th>
        <th scope="col">Description</th>
        <th scope="col">Voir</th>
      </tr>
    </thead>
    <tbody>
      {% for player in player_list %}
        <tr>
          <td>{{ player.name }}</td>
          <td>{{ player.get_total_point }}</td>
          <td>{{ player.description }}</td>
          <td><form action="{% url 'game:detail' player.id%}"><input type="submit" class="btn btn-primary" value="Voir le joueur"></form></td>
        </tr>
      {% endfor %}
    </tbody>
  </table>
  {% else %}
      <p>No player are available.</p>
  {% endif %}

  <form action="{% url 'game:create_player' %}" method="post" enctype="multipart/form-data">
    {% csrf_token %}
    <p>
      {% if error_message %}<p><strong>{{ error_message }}</strong></p>{% endif %}
    </p>
    <p>
      <label for="nameInput">Nom de l'utilisateur</label>
      <input type="text" name="nom" id="nameInput" required>
    </p>
    <p>
      <label for="imageInput">Photo de Profile</label>
      <input type="file" name="photo" id="imageInput">
    </p>
    <p>
      <label for="descriptionInput">Description :</label>
      <input type="text" name="description" id="descriptionInput">
    </p>
    <p>
      <input type="submit" value="Ajouter un nouvel utilisateur">
    </p>
  </form>
{% endblock %}